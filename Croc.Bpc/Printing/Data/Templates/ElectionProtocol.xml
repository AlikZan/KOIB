<?xml version="1.0" encoding="windows-1251"?> 

<!-- итоговый протокол и отчет о распределении голосов --> 

<ReportTemplate name="ElectionProtocol" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 

xmlns="http://localhost/Schemas/SIB2003/ReportTemplate" 

xsi:schemaLocation="http://localhost/Schemas/SIB2003/ReportTemplate ReportTemplate.xsd"> 

 <Parameters> 

  <!-- выборы, на основе которых формируется отчет --> 

  <Parameter>Election</Parameter> 

  <!-- признак печати шаблонов протокола --> 

  <Parameter>withResults</Parameter> 

  <!-- признак печати итогового протокола (иначе отчет о распределении голосов) --> 

  <Parameter>final</Parameter> 

 </Parameters> 

 <Header> 

  <If condition="@final"> 

   <Then> 

    <Line align="Left">Экземпляр № ___</Line> 

    <Line align="Center">{$@Election.Name}</Line> 

    <Line align="Center">{$ElectionManager.SourceData.DateTime|d 

MMMM yyyy года}</Line> 

    <Line align="Center" bold="true">ПРОТОКОЛ</Line> 

    <Line align="Center" split="\n" 

trim="true">{$@Election.Protocol.Name}</Line> 

    <Line align="Center">Избирательный участок 

N{$ElectionManager.UIK}</Line> 

   </Then> 

   <Else> 

    <Line align="Center">ОТЧЕТ О РАСПРЕДЕЛЕНИИ ГОЛОСОВ</Line> 

    <Line align="Center">{$@Election.Name}</Line> 

    <Line align="Center">{$ElectionManager.SourceData.DateTime|d 

MMMM yyyy года}</Line> 


   </Else> 

  </If> 

 </Header> 

 <Table> 

  <Header> 

   <!-- номер строки --> 

   <Col width="5"/> 

   <!-- название строки/имя кандидата --> 

   <Col width="40"/> 

   <!-- число --> 

   <Col width="15"/> 

   <!-- строковое представление --> 

   <Col width="40"/> 

  </Header> 

  <Body> 

   <If condition="@final"> 

    <!-- доп сведения только в итоговом протоколе --> 

    <Then> 

     <!-- дополнительные сведения --> 

     <For in="@Election.Protocol.Lines" each="Line"> 

      <Body> 

       <Line> 

        <Cols> 

        

 <Col>{$@Line.num}{$@Line.additionalNum}</Col> 

         <Col>{$@Line.name}</Col> 

         <Col> 

          <Parts> 


           <Part 

condition="@withResults">{$@Line.Value}</Part> 

           <Part not="true" 

condition="@withResults">0</Part> 

          </Parts> 

         </Col> 

         <Col> 

          <Parts> 

           <Part 

condition="@withResults">({$@Line.Value|#w})</Part> 

           <Part not="true" 

condition="@withResults">(ноль)</Part> 

          </Parts> 

         </Col> 

        </Cols> 

       </Line> 

      </Body> 

     </For> 

     <!-- установим номер строки в номер последней строки доп 

сведений для перенумерации кандидатов --> 

    

 <SetCurrentRow>{$@Election.Protocol.LatestLineNumber}</SetCurrentRow> 

    </Then> 

   </If> 

   <!-- таблица распределения голосов кандидатов --> 

   <If condition="@final" not="true"> 

    <Then> 

     <!-- данные о бюллетенях для отчета о распределении 

голосов --> 

     <Line> 

      <Cols> 


       <Col>{$CurrentRow}</Col> 

       <Col>Бюллетеней, всего</Col> 

      

 <Col>{$ElectionManager.VotingResults.VotesCount&lt;$VoteKey.ctor&lt;AllButBad;;;;;$Election

Manager.SourceData.GetBlankIdByElectionNumber&lt;$@Election.ElectionId&gt;&gt;&gt;}</Col> 

      

 <Col>({$ElectionManager.VotingResults.VotesCount&lt;$VoteKey.ctor&lt;AllButBad;;;;;$Election

Manager.SourceData.GetBlankIdByElectionNumber&lt;$@Election.ElectionId&gt;&gt;&gt;|#w})</Col> 

      </Cols> 

     </Line> 

     <Line> 

      <Cols> 

       <Col>{$CurrentRow}</Col> 

       <Col>Число действительных 

бюллетеней</Col> 

      

 <Col>{$ElectionManager.VotingResults.VotesCount&lt;$VoteKey.ctor&lt;Valid;;;;$@Election.Ele

ctionId;&gt;&gt;}</Col> 

      

 <Col>({$ElectionManager.VotingResults.VotesCount&lt;$VoteKey.ctor&lt;Valid;;;;$@Election.Ele

ctionId;&gt;&gt;|#w})</Col> 

      </Cols> 

     </Line> 

     <Line> 

      <Cols> 

       <Col>{$CurrentRow}</Col> 

       <Col>Число недействительных 

бюллетеней</Col> 

      

 <Col>{$ElectionManager.VotingResults.VotesCount&lt;$VoteKey.ctor&lt;NotValid;;;;;$ElectionM

anager.SourceData.GetBlankIdByElectionNumber&lt;$@Election.ElectionId&gt;&gt;&gt;}</Col> 

      

 <Col>({$ElectionManager.VotingResults.VotesCount&lt;$VoteKey.ctor&lt;NotValid;;;;;$Election

Manager.SourceData.GetBlankIdByElectionNumber&lt;$@Election.ElectionId&gt;&gt;&gt;|#w})</Col> 


      </Cols> 

     </Line> 

     <Line> 

      <Cols> 

       <Col>{$CurrentRow}</Col> 

       <Col>Обнаружено в стационарных 

ящиках</Col> 

      

 <Col>{$ElectionManager.VotingResults.VotesCount&lt;$VoteKey.ctor&lt;AllButBad;Main;;;;$Elec

tionManager.SourceData.GetBlankIdByElectionNumber&lt;$@Election.ElectionId&gt;&gt;&gt;}</Col> 

      

 <Col>({$ElectionManager.VotingResults.VotesCount&lt;$VoteKey.ctor&lt;AllButBad;Main;;;;$Ele

ctionManager.SourceData.GetBlankIdByElectionNumber&lt;$@Election.ElectionId&gt;&gt;&gt;|#w})</C

ol> 

      </Cols> 

     </Line> 

     <Line> 

      <Cols> 

       <Col>{$CurrentRow}</Col> 

       <Col>Обнаружено в переносных ящиках</Col> 

      

 <Col>{$ElectionManager.VotingResults.VotesCount&lt;$VoteKey.ctor&lt;AllButBad;Portable;;;;$

ElectionManager.SourceData.GetBlankIdByElectionNumber&lt;$@Election.ElectionId&gt;&gt;&gt;}</Col

> 

      

 <Col>({$ElectionManager.VotingResults.VotesCount&lt;$VoteKey.ctor&lt;AllButBad;Portable;;;;$

ElectionManager.SourceData.GetBlankIdByElectionNumber&lt;$@Election.ElectionId&gt;&gt;&gt;|#w})

</Col> 

      </Cols> 

     </Line> 

    </Then> 

   </If> 

   <For in="@Election.Candidates" each="Candidate"> 


    <Body> 

     <If not="true" condition="@Candidate.Disabled"> 

      <Then> 

       <!-- кандидат НЕ снят --> 

       <Line> 

        <Cols> 

         <Col>{$CurrentRow}</Col> 

         <Col> 

          <Parts> 

           <Part 

condition="@Candidate.lastName">{$@Candidate.lastName|#u}</Part> 

           <Part 

condition="@Candidate.firstName"> {$@Candidate.firstName}</Part> 

           <Part 

condition="@Candidate.patronymic"> {$@Candidate.patronymic}</Part> 

          </Parts> 

         </Col> 

         <Col> 

          <Parts> 

           <Part 

condition="@withResults"> 

           

 {$ElectionManager.VotingResults.VotesCount&lt;$VoteKey.ctor&lt;;;;$@Candidate.Id;$@Electio

n.ElectionId;&gt;&gt;} 

           </Part> 

           <Part not="true" 

condition="@withResults">0</Part> 

          </Parts> 

         </Col> 

         <Col> 

          <Parts> 


           <Part 

condition="@withResults"> 

           

 ({$ElectionManager.VotingResults.VotesCount&lt;$VoteKey.ctor&lt;;;;$@Candidate.Id;$@Electi

on.ElectionId;&gt;&gt;|#w}) 

           </Part> 

           <Part not="true" 

condition="@withResults">(ноль)</Part> 

          </Parts> 

         </Col> 

        </Cols> 

       </Line> 

      </Then> 

      <Else> 

       <!-- кандидат СНЯТ --> 

       <If 

condition="@Election.Protocol.disabledString"> 

        <Then> 

         <!-- Установлен признак 

отображения в протоколе --> 

         <Line> 

          <Cols> 

          

 <Col>{$CurrentRow}</Col> 

           <Col> 

            <Parts> 

            

 <Part condition="@Candidate.lastName">{$@Candidate.lastName|#u}</Part> 

            

 <Part condition="@Candidate.firstName"> {$@Candidate.firstName}</Part> 

            

 <Part condition="@Candidate.patronymic"> {$@Candidate.patronymic}</Part> 

            </Parts> 


           </Col> 

          

 <Col>{$@Election.Protocol.disabledString}</Col> 

           <Col/> 

          </Cols> 

         </Line> 

        </Then> 

       </If> 

      </Else> 

     </If> 

    </Body> 

   </For> 

  </Body> 

 </Table> 

 <PageFooter> 

  <If condition="@final"> 

   <!-- подписи только в итоговом протоколе --> 

   <Then> 

    <Line align="Left"/> 

    <Line align="Left">Председатель участковой избирательной 

комиссии</Line> 

    <Line align="Right">_______________    

__________________________________</Line> 

    <Line align="Right">    (фамилия,             (подпись либо причины 

отсутствия,    </Line> 

    <Line align="Right">    инициалы)                    отметка об особом 

мнении)         </Line> 

    <Line align="Left">Заместитель председателя комиссии</Line> 

    <Line align="Right">_______________    

__________________________________</Line> 

    <Line align="Left">Секретарь комиссии</Line> 


    <Line align="Right">_______________    

__________________________________</Line> 

    <Line align="Left">Члены комиссии:</Line> 

    <Line align="Right">_______________    

__________________________________</Line> 

    <Line align="Right">_______________    

__________________________________</Line> 

    <Line align="Right">_______________    

__________________________________</Line> 

    <Line align="Right">_______________    

__________________________________</Line> 

    <Line align="Right">_______________    

__________________________________</Line> 

    <Line align="Right">_______________    

__________________________________</Line> 

    <Line align="Right">_______________    

__________________________________</Line> 

    <Line align="Right">_______________    

__________________________________</Line> 

    <Line align="Right">_______________    

__________________________________</Line> 

    <Line align="Right">_______________    

__________________________________</Line> 

    <Line align="Right">_______________    

__________________________________</Line> 

    <Line align="Right">_______________    

__________________________________</Line> 

    <Line align="Left"/> 

    <Line align="Left" bold="true">    МП       Протокол подписан "___" 

_____ {$CurrentDateTime.Year} года   в ___ часов ___ минут</Line> 

   </Then> 

  </If> 

 </PageFooter> 

 <Footer> 


  <If condition="@final"> 

   <!-- только в итоговом протоколе --> 

   <Then> 

    <Line align="Left"/> 

    <Line align="Left">Сведения о количестве поступивших в участковую 

избирательную</Line> 

    <Line align="Left">комиссию в день голосования и до окончания 

подсчета голосов          __________ ________________</Line> 

    <Line align="Left">избирателей жалоб (заявлений), прилагаемых к 

протоколу                 цифрами      прописью</Line> 

   </Then> 

  </If> 

 </Footer> 

</ReportTemplate> 


